(this["webpackJsonpreact-crypto"]=this["webpackJsonpreact-crypto"]||[]).push([[0],{102:function(t,e,n){},209:function(t,e,n){},228:function(t,e,n){"use strict";n.r(e);var a=n(0),c=n.n(a),i=n(84),s=n.n(i),r=n(12),o=(n(94),n(4)),l=(n(95),n(96),n(1)),u=function(){return Object(l.jsxs)("div",{className:"navbar-container",children:[Object(l.jsx)(r.c,{to:"/",children:Object(l.jsx)("div",{className:"navbar-title",children:"CRYPTOCHART"})}),Object(l.jsxs)("nav",{className:"navbar-navigation",children:[Object(l.jsx)(r.c,{exact:!0,to:"/",className:"nav-link",activeClassName:"active-nav-link",children:"HOME"}),Object(l.jsx)(r.c,{to:"/news",className:"nav-link",activeClassName:"active-nav-link",children:"NEWS"})]})]})},j=(n(102),function(t){var e=t.message;return Object(l.jsx)("div",{className:"error-container",children:Object(l.jsx)("p",{children:e||""})})}),d=n(2),m=n(5),b=n(6),p=n.n(b),h=n(15),O=function(t){var e=t.state,n=e.symbol,a=e.symbolList,c=t.functions,i=c.handleChange,s=c.handleNewCoin,r=c.handleBlur;return Object(l.jsxs)("div",{onBlur:r,className:"input-container",children:[Object(l.jsx)("input",{className:"new-coin-input",placeholder:"SYMBOL",value:n,onChange:i,type:"text",autoFocus:!0}),Object(l.jsxs)("div",{className:"coin-search-container",children:[n.length>0&&a.sort().slice(0,10).map((function(t){return Object(l.jsx)("button",{className:"coin-list-item",onClick:s,id:t,children:t},t)})),Object(l.jsx)("button",{className:"cancel",children:"cancel"})]})]})},f=function(t){var e=t.onClick,n=t.timeline;Object(a.useEffect)((function(){}),[n]);var c=["1Y","1M","1W","24H","1H"].map((function(t){return Object(l.jsx)("button",{onClick:e,id:t,className:n===t?"timeline-button active-timeline":"timeline-button",children:t},t)}));return Object(l.jsx)(l.Fragment,{children:c})},v=function(t){var e=t.functions,n=e.deleteCoin,a=e.setNewCoin,c=e.chartButtonClassName,i=t.state,s=i.coinList,r=i.newCoinBoolean,o=t.html.buttonOrInput;return Object(l.jsxs)("div",{className:"coin-button-container",children:[s.map((function(t){return Object(l.jsx)("button",{onClick:r?n:a,id:t,className:c(t),children:t},t)})),o]})},x=function(t){var e=t.state,n=e.percentage,a=e.coinData,c=e.coin;return Object(l.jsxs)("div",{className:"current-price",children:[Object(l.jsxs)("div",{style:{display:"flex"},children:[Object(l.jsx)("div",{className:"coin-chart-header",children:c}),Object(l.jsxs)("div",{className:n>0?"percentage positive":"percentage negative",children:[n,"%"]})]}),Object(l.jsx)("div",{className:"price-header",children:"Current Price:"}),Object(l.jsxs)("div",{className:"price-action",children:["$",a[1]&&a[a.length-1].close.toLocaleString(void 0,{minimumFractionDigits:2})]})]})},g=n(89),N=n(36),y=n.n(N),w=(n(209),function(t){var e=t.times,n=t.prices,c=t.coinData;Object(a.useEffect)((function(){}),[c,e,n]);var i={labels:e,datasets:[{borderWidth:2,data:n,borderColor:"rgba(0,82,255, .8)",pointRadius:0,spanGaps:!1}]},s={animation:!1,responsive:!0,maintainAspectRatio:!1,layout:{padding:{top:50}},plugins:{legend:{display:!1},tooltip:{z:100,caretPadding:20,yAlign:"bottom",titleFont:{size:20},titleAlign:"center",bodyAlign:"center",intersect:!1,backgroundColor:"#000",displayColors:!1,callbacks:{title:function(t){return"$"+t[0].formattedValue},label:function(t){return y()(1e3*c[t.dataIndex].time).format("MMMM DD hh:mm A")}}}},scales:{x:{ticks:{align:"start",autoSkip:!0,maxRotation:0,minRotation:0,maxTicksLimit:8,font:function(t){var e=t.chart.width,n=Math.round(e/64);return{size:n>10?n:10}}},grid:{display:!1}},y:{display:!1}}};return Object(l.jsx)("div",{className:"line-container",children:Object(l.jsx)(g.a,{data:i,options:s})})}),C=n(22),S=n.n(C),k=function(){var t=Object(h.a)(p.a.mark((function t(e,n,a,c,i,s){var r,o,l,u;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r={"1Y":"https://min-api.cryptocompare.com/data/v2/histoday?fsym=".concat(e,"&tsym=USD&limit=365"),"1M":"https://min-api.cryptocompare.com/data/v2/histoday?fsym=".concat(e,"&tsym=USD&limit=30"),"1W":"https://min-api.cryptocompare.com/data/v2/histohour?fsym=".concat(e,"&tsym=USD&limit=168"),"24H":"https://min-api.cryptocompare.com/data/v2/histominute?fsym=".concat(e,"&tsym=USD&limit=1440&aggregate=5"),"1H":"https://min-api.cryptocompare.com/data/v2/histominute?fsym=".concat(e,"&tsym=USD&limit=60")},t.next=3,S()(r[n]);case 3:return o=t.sent,l=o.data.Data.Data,a(l),c(l.map((function(t){return e=t.time,y()(1e3*e).format("MMM DD");var e}))),i(l.map((function(t){return t.close}))),u=Math.round((l[l.length-1].close-l[0].close)/l[0].close*100*100)/100,s(u),t.abrupt("return",l);case 11:case"end":return t.stop()}}),t)})));return function(e,n,a,c,i,s){return t.apply(this,arguments)}}(),D=function(){var t=Object(h.a)(p.a.mark((function t(e){var n,a;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,S()("https://min-api.cryptocompare.com/data/all/coinlist?summary=true");case 2:return n=t.sent,a=n.data.Data,e(Object.keys(a)),t.abrupt("return",n);case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),M=function(t){var e=t.flipError,n=Object(a.useState)([]),c=Object(o.a)(n,2),i=c[0],s=c[1],r=Object(a.useState)([]),u=Object(o.a)(r,2),j=u[0],d=u[1],b=Object(a.useState)("BTC"),g=Object(o.a)(b,2),N=g[0],y=g[1],C=Object(a.useState)([]),S=Object(o.a)(C,2),M=S[0],E=S[1],B=Object(a.useState)("1W"),T=Object(o.a)(B,2),A=T[0],I=T[1],F=Object(a.useState)(["BTC","ETH","ADA","DOGE"]),L=Object(o.a)(F,2),H=L[0],U=L[1],R=Object(a.useState)(!1),W=Object(o.a)(R,2),J=W[0],P=W[1],Y=Object(a.useState)(""),z=Object(o.a)(Y,2),$=z[0],G=z[1],V=Object(a.useState)([]),_=Object(o.a)(V,2),q=_[0],K=_[1],Q=Object(a.useState)(0),X=Object(o.a)(Q,2),Z=X[0],tt=X[1],et=function(){var t=Object(h.a)(p.a.mark((function t(){return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:P(!0),D(K);case 2:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),nt=function(t){if(t.length>0){var e=Object(m.a)(q).filter((function(e){return e.startsWith(t)}));K(e)}else et()},at=Object(l.jsx)("button",{className:"timeline-button",onClick:et,children:"< + / - >"}),ct=J?Object(l.jsx)(O,{state:{symbol:$,symbolList:q},functions:{handleChange:function(t){var e=t.target.value;G(e.toUpperCase()),nt(e.toUpperCase())},handleNewCoin:function(t){var n=t.target.id,a=Object(m.a)(H);a.includes(n)?e("Already added coin"):a.length>8?e("Too many coins. Please consider deleting unneeded ones"):(a.push(n),U(a),localStorage.setItem("coins",JSON.stringify(a)))},handleBlur:function(){setTimeout((function(){P(!1),G("")}),500)}}}):at;return Object(a.useEffect)(Object(h.a)(p.a.mark((function t(){return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return localStorage.getItem("coins")?U(JSON.parse(localStorage.getItem("coins"))):localStorage.setItem("coins",JSON.stringify(H)),t.next=3,k(N,A,d,E,s,tt);case 3:t.sent;case 4:case"end":return t.stop()}}),t)}))),[A,N]),Object(l.jsxs)("div",{className:"chart-wrapper-container",children:[Object(l.jsxs)("div",{className:"chart-header-container",children:[Object(l.jsx)(x,{state:{percentage:Z,coinData:j,coin:N}}),Object(l.jsx)(v,{functions:{deleteCoin:function(t){var e=t.target.id,n=Object(m.a)(H),a=H.indexOf(e);n.splice(a,1),U(n),localStorage.setItem("coins",JSON.stringify(n))},setNewCoin:function(t){!function(t){y(t)}(t.target.id)},chartButtonClassName:function(t){var e="timeline-button";return J?e=e.concat(" remove-button"):N===t&&(e=e.concat(" active-timeline")),e}},state:{coinList:H,newCoinBoolean:J},html:{buttonOrInput:ct}}),Object(l.jsx)("div",{className:"button-container",children:Object(l.jsx)(f,{onClick:function(t){var e=t.target.id;I(e)},timeline:A})})]}),Object(l.jsx)(w,{times:M,prices:i,coinData:j})]})},E=(n(35),function(t){var e=t.news.slice(0,50).map((function(t){return Object(l.jsx)(T,{data:t,all:!0},t.id)}));return Object(l.jsxs)("div",{className:"all-news-container",children:[Object(l.jsx)("p",{className:"scroll-for-more",children:"scroll for more"}),e]})}),B=function(t){var e=t.news,n=window.innerHeight,a=Math.round(n/125),c=e.slice(0,a).map((function(t){return Object(l.jsx)(T,{data:t,id:t.id},t.id)}));return Object(l.jsxs)("div",{className:"home-news-container",children:[Object(l.jsx)("div",{className:"empty"}),Object(l.jsx)("div",{className:"for-you",children:"NEWS FOR YOU"}),Object(l.jsxs)("div",{className:"news-container",children:[c,Object(l.jsx)(r.b,{to:"/news",children:Object(l.jsx)("div",{className:"view-more",children:"view more"})})]})]})},T=function(t){var e=t.data,n=e.url,a=e.imageurl,c=e.title,i=e.source,s=t.all;return Object(l.jsxs)("a",{href:n,target:"_blank",className:"news-item-container",title:c,children:[Object(l.jsx)("img",{src:a,className:"news-image"}),Object(l.jsx)("p",{className:"news-title",children:c.replace("$1...")}),s?Object(l.jsxs)("p",{className:"source",children:["(",i,")"]}):null]})},A=function(){var t=Object(a.useState)([]),e=Object(o.a)(t,2),n=e[0],c=e[1],i=window.location.hash,s=function(){var t=Object(h.a)(p.a.mark((function t(){var e;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,S()("https://min-api.cryptocompare.com/data/v2/news/?lang=EN");case 2:e=t.sent,c(e.data.Data);case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return Object(a.useEffect)((function(){s()}),[]),Object(l.jsx)("div",{className:"news-wrapper",children:i.includes("news")?Object(l.jsx)(E,{news:n}):Object(l.jsx)(B,{news:n})})};var I=function(){var t=Object(a.useState)(""),e=Object(o.a)(t,2),n=e[0],c=e[1],i=function(){c("")};return Object(l.jsxs)("div",{className:"App",children:[Object(l.jsx)(u,{}),n.length>0&&Object(l.jsx)(j,{message:n}),Object(l.jsx)("div",{className:"component-container",children:Object(l.jsxs)(d.c,{children:[Object(l.jsxs)(d.a,{exact:!0,path:"/",children:[Object(l.jsx)(M,{flipError:function(t){c(t),setTimeout(i,4e3)}}),Object(l.jsx)(A,{})]}),Object(l.jsx)(d.a,{exact:!0,path:"/news",children:Object(l.jsx)(A,{})})]})})]})},F=function(t){t&&t instanceof Function&&n.e(3).then(n.bind(null,229)).then((function(e){var n=e.getCLS,a=e.getFID,c=e.getFCP,i=e.getLCP,s=e.getTTFB;n(t),a(t),c(t),i(t),s(t)}))};s.a.render(Object(l.jsx)(c.a.StrictMode,{children:Object(l.jsx)(r.a,{children:Object(l.jsx)(I,{})})}),document.getElementById("root")),F()},35:function(t,e,n){},94:function(t,e,n){},95:function(t,e,n){},96:function(t,e,n){}},[[228,1,2]]]);
//# sourceMappingURL=main.6929eacd.chunk.js.map